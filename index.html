<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Xfear – Fall1 & Fall2</title>
<style>
body{font-family:sans-serif;background:#111;color:#eee;margin:0}
h1{padding:16px;background:#222;margin:0}
.section{margin:20px;padding:0 16px}
.section h2{margin:0 0 10px}
.grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(240px,1fr));gap:10px}
.card{background:#1a1a1a;border-radius:8px;overflow:hidden}
.card img,.card video{width:100%;height:200px;object-fit:contain;display:block;background:#000}
.card .meta{padding:6px 10px;font-size:12px;color:#aaa}
</style>
</head>
<body>
<h1>Xfear – Thư viện Fall1 & Fall2</h1>

<div id="content"></div>

<script>
const folders = ["Fall1","Fall2"];
const extsImg = [".jpg",".jpeg",".png",".gif",".webp"];
const extsVid = [".mp4",".webm",".mkv",".mov",".m4v",".avi"];

function isImg(n){return extsImg.some(e=>n.toLowerCase().endsWith(e));}
function isVid(n){return extsVid.some(e=>n.toLowerCase().endsWith(e));}

async function fetchList(folder){
  // GitHub Pages không cho liệt kê folder tự động,
  // nên bạn cần tự viết tay danh sách file, hoặc dùng script build trước khi push.
  // Ví dụ tạm:
  const files = [
    "img1.jpg","img2.png","vid1.mp4" // <-- sửa thành đúng file bạn có
  ];
  return files.map(f=>`${folder}/${f}`);
}

async function render(){
  const container = document.getElementById("content");
  for(const folder of folders){
    const sec = document.createElement("div");
    sec.className="section";
    sec.innerHTML=`<h2>${folder}</h2><div class="grid"></div>`;
    container.appendChild(sec);
    const grid = sec.querySelector(".grid");
    const files = await fetchList(folder);
    files.forEach(file=>{
      const card = document.createElement("div"); card.className="card";
      if(isImg(file)) card.innerHTML=`<img src="${file}" alt="${file}"><div class="meta">${file}</div>`;
      else if(isVid(file)) card.innerHTML=`<video src="${file}" controls></video><div class="meta">${file}</div>`;
      grid.appendChild(card);
    });
  }
}
render();
</script>
</body>
</html>